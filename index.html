---
---

{% assign ids = site.charts | times: 12 | minus: 1 %}

<div>
  <select id="select" onload="console.log(123);change();" onchange="change();">
    {% for id in (0..ids) %}
      {% assign chart = id | divided_by: 12 | plus: 1 %}
      {% assign level = id | modulo: 12 %}
      <option>Chart {{ chart }}, Level {{ site.data.levels[level] }}</option>
    {% endfor %}
  </select>
</div>

<div id="frame"></div>


<script type="text/javascript">
async function change() {
  var pageid = select.selectedIndex;
  window.localStorage.level = pageid;
  let newpage = await fetch('frames/' + pageid + '.html').then(r => r.text());
  frame.innerHTML = newpage;
}
var frame = document.getElementById('frame');
var select = document.getElementById('select');
if (window.localStorage.level){
  select.selectedIndex = window.localStorage.level
}
change();
</script>